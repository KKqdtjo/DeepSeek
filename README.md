# 华为云DeepSeek分布式部署完整方案

## 项目概述

本项目实现在华为云上分布式部署DeepSeek大语言模型，支持高并发推理服务。

## 架构设计

```
负载均衡器 (华为云ELB)
    ↓
API网关 (主节点)
    ↓
模型推理集群
    ├── 主节点 (协调器 + 模型分片1)
    ├── 工作节点1 (模型分片2)  
    └── 工作节点2 (模型分片3)
    ↓
共享存储 (华为云OBS)
```

## 服务器配置方案

### 主节点配置

- **规格**: s6.xlarge.2 (4核8GB)
- **GPU**: T4 (可选，预算允许时)
- **存储**: 40GB SSD系统盘 + 100GB数据盘
- **网络**: 5Mbps带宽
- **预估费用**: 120-150元/月

### 工作节点1配置  

- **规格**: s6.large.2 (2核4GB)
- **存储**: 40GB SSD系统盘 + 50GB数据盘
- **网络**: 3Mbps带宽
- **预估费用**: 80-100元/月

### 工作节点2配置

- **规格**: s6.large.1 (2核2GB)
- **存储**: 20GB SSD系统盘 + 30GB数据盘  
- **网络**: 1Mbps带宽
- **预估费用**: 60-80元/月

### 共享存储

- **华为云OBS**: 100GB标准存储
- **预估费用**: 20元/月

## 部署步骤

### 1. 环境准备

- 创建华为云ECS实例
- 配置安全组和VPC
- 安装基础软件

### 2. 容器化部署

- 使用Docker容器化模型服务
- K3s集群管理
- 配置服务发现

### 3. 模型部署

- DeepSeek模型下载和分片
- vLLM推理服务部署
- API网关配置

### 4. 监控运维

- Prometheus监控
- 日志收集
- 自动化运维

## 目录结构

```
大模型分布式部署/
├── docs/                 # 文档
├── scripts/              # 部署脚本  
├── docker/               # Docker配置
├── kubernetes/           # K8s配置文件
├── monitoring/           # 监控配置
├── api/                  # API服务代码
└── tests/               # 测试文件
```

## 快速开始

1. 克隆项目代码
2. 配置华为云凭证
3. 执行部署脚本
4. 验证服务状态

详细步骤请参考 `docs/` 目录下的文档。
